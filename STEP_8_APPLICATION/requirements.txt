############################################################
# Groundwater Prediction System â€” Deployment Requirements  #
# Target: Render.com (Linux)                               #
# Install with: pip install -r requirements.txt            #
############################################################

# --- Web App ---
Flask==3.0.3
gunicorn==21.2.0
Werkzeug>=3.0.1
python-dotenv==1.0.1
requests==2.31.0

# --- Numerics / ML ---
numpy==1.26.4            # widely compatible with manylinux wheels
pandas==2.1.4
scikit-learn==1.3.2
joblib==1.3.2
xgboost==1.7.6           # stable CPU build

# --- RAG / LLM Stack ---
langchain>=0.1.0
langchain-core>=0.1.40
langchain-community>=0.0.20
langchain-chroma>=0.1.0
langchain-groq>=0.0.1
langchain-text-splitters>=0.0.1
chromadb==0.4.22
pypdf==3.17.4
sentence-transformers==2.2.2

# Ensure compatible pinned wheels to avoid building from source
transformers==4.43.4
tokenizers==0.15.2
hnswlib==0.8.0
# CPU-only PyTorch (wheel will be selected automatically for Linux x86_64)
torch==2.2.2

# Keras 3 compatibility shim (prevents TF import issues in Transformers)
tf-keras

# --- Optional services (guarded by code) ---
# Google Generative AI SDK (used when GENAI_API_KEY is provided)
google-generativeai==0.7.2

# Build helpers (mitigate metadata-generation issues on some environments)
setuptools==69.5.1
wheel==0.43.0

# Notes:
# - The app uses HuggingFace sentence-transformers locally (CPU). Torch will be
#   installed automatically as a dependency; no GPU required on Render.
# - For Start Command on Render, use something like:
#     gunicorn app:app --workers 2 --timeout 120
#   with Root Directory set to STEP_8_APPLICATION.
